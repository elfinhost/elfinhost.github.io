{"version":3,"file":"static/js/591.ee64c933.chunk.js","mappings":"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","sources":["webpack://react-app-ts/./src/views/pc/learn/css/learn.module.css?957d","views/pc/learn/learn.tsx","../node_modules/@material-ui/icons/Error.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"text-title\":\"learn_text-title__FjDTq\",\"page\":\"learn_page__W7m+K\",\"section\":\"learn_section__76H7+\",\"space-x-117\":\"learn_space-x-117__xovZ6\",\"space-x-4\":\"learn_space-x-4__1mO4N\",\"image\":\"learn_image__L-Oj6\",\"text\":\"learn_text__ejJT0\",\"space-x-80\":\"learn_space-x-80__1SNKd\",\"space-x-6\":\"learn_space-x-6__XAUit\",\"font_1\":\"learn_font_1__qNWHH\",\"image_2\":\"learn_image_2__gqyk0\",\"space-x-16\":\"learn_space-x-16__c8XyX\",\"text-wrapper\":\"learn_text-wrapper__8zc4H\",\"text_2\":\"learn_text_2__pQGOo\",\"text-wrapper_2\":\"learn_text-wrapper_2__qNUQ1\",\"font_2\":\"learn_font_2__AF0X2\",\"text_3\":\"learn_text_3__ohfVB\",\"group\":\"learn_group__dmtJr\",\"space-y-35\":\"learn_space-y-35__ef9ng\",\"group_2\":\"learn_group_2__-ZSJt\",\"text_4\":\"learn_text_4__AHc-l\",\"group_3\":\"learn_group_3__XKCTx\",\"space-x-36\":\"learn_space-x-36__Ojf87\",\"group_5\":\"learn_group_5__f2unP\",\"font_3\":\"learn_font_3__Tnbs8\",\"font_5\":\"learn_font_5__TLN+D\",\"font_6\":\"learn_font_6__vgCmU\",\"group_4\":\"learn_group_4__TQ9NB\",\"conent_panel\":\"learn_conent_panel__Rwkjx\",\"space-y-129\":\"learn_space-y-129__fbBtF\",\"section_2\":\"learn_section_2__xKSa1\",\"text-wrapper_3\":\"learn_text-wrapper_3__AKFvi\",\"text_5\":\"learn_text_5__2ycIn\",\"divider\":\"learn_divider__DwiMQ\",\"section_3\":\"learn_section_3__HqWZz\",\"section_4\":\"learn_section_4__gS9qo\",\"text-wrapper_4\":\"learn_text-wrapper_4__PQ25g\",\"font_4\":\"learn_font_4__aKg99\",\"text_6\":\"learn_text_6__HPtab\",\"image_3\":\"learn_image_3__0-JBv\",\"image_4\":\"learn_image_4__gytNW\",\"group_6\":\"learn_group_6__4yrzX\",\"space-x-7\":\"learn_space-x-7__rNwAz\",\"section_5\":\"learn_section_5__7VT-H\",\"text-wrapper_5\":\"learn_text-wrapper_5__PdBru\",\"text_7\":\"learn_text_7__vCCsQ\",\"image_5\":\"learn_image_5__joL+D\",\"divider_2\":\"learn_divider_2__CxXB3\",\"group_7\":\"learn_group_7__DI-f-\",\"image_6\":\"learn_image_6__XLWgy\",\"group_8\":\"learn_group_8__YFgtI\",\"image_7\":\"learn_image_7__vprT6\",\"group_9\":\"learn_group_9__mL8GU\",\"view\":\"learn_view__Hnd9l\",\"text_8\":\"learn_text_8__dQcBW\",\"image_8\":\"learn_image_8__SqlR3\",\"group_10\":\"learn_group_10__kQp7q\",\"view_2\":\"learn_view_2__og2is\",\"text_9\":\"learn_text_9__d1S2e\",\"image_9\":\"learn_image_9__la59S\",\"image_10\":\"learn_image_10__EEeAa\",\"image_11\":\"learn_image_11__vhLc5\",\"section_6\":\"learn_section_6__r0+kG\",\"group_11\":\"learn_group_11__58WFi\",\"text_10\":\"learn_text_10__SQ27W\",\"font_7\":\"learn_font_7__1rGLK\",\"group_12\":\"learn_group_12__dSOpm\",\"space-x-40\":\"learn_space-x-40__Oh9N8\",\"group_13\":\"learn_group_13__gNqRX\",\"space-x-116\":\"learn_space-x-116__wQD3T\",\"text_11\":\"learn_text_11__XwS0p\",\"image_12\":\"learn_image_12__8qFBJ\",\"pos\":\"learn_pos__OdKF-\",\"space-y-36\":\"learn_space-y-36__P33hd\",\"group_14\":\"learn_group_14__NUtn9\",\"space-x-114\":\"learn_space-x-114__wqwhI\",\"group_15\":\"learn_group_15__kNxOP\",\"space-x-118\":\"learn_space-x-118__5e0QW\",\"group_16\":\"learn_group_16__BM-rS\",\"space-x-26\":\"learn_space-x-26__4unsk\",\"image_13\":\"learn_image_13__d4SIw\",\"group_17\":\"learn_group_17__tvjMt\",\"space-x-368\":\"learn_space-x-368__YQf7X\",\"group_18\":\"learn_group_18__jHWuJ\",\"space-x-374\":\"learn_space-x-374__uDNcn\",\"group_19\":\"learn_group_19__YVEv7\",\"group_20\":\"learn_group_20__eb9kg\",\"space-x-8\":\"learn_space-x-8__ecsq-\",\"image_14\":\"learn_image_14__vY1pD\"};","import { Box, Button } from \"@material-ui/core\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport 'react-awesome-slider/dist/styles.css';\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport useMatchBreakpoints from \"../../../hooks/useMatchBreakpoints\";\r\nimport styles from './css/learn.module.css';\r\nimport './css/pygments.css';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\n\r\nconst Panel= styled.div<any>`\r\n    background-image: url(/image/pc/back.png);\r\n    .active{\r\n        /* padding: 23px 30px 15px; */\r\n        background-color: #40d3a4;\r\n        .shrink-0{\r\n          background:#ffffff00;\r\n         \r\n        }\r\n        .activeLabel{\r\n            color:#fff ;\r\n        }\r\n    }\r\n`;\r\n\r\nconst DownloadBtn = styled.button<any>`\r\n    width: 300px;\r\n    height: 56px;\r\n    background: linear-gradient(154deg,#36d0ac, #60f770 100%);\r\n    border-radius: 8px;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    color: #ffffff;\r\n    line-height: 24px;\r\n`;\r\n\r\nfunction useDebounce(value: number, delay: number) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}\r\n\r\nconst Learn: React.FC = () => {\r\n  const { activeId } = useParams();\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const activeMap:any={\r\n    'Protocol':0,\r\n    'Authorizer':1,       \r\n    'Recryptor':2,             \r\n    'Directory':3,\r\n    'Adapter':4,\r\n    'Payment':5 \r\n  }\r\n  useEffect(()=>{\r\n    setActive(activeMap[activeId||'Protocol']);\r\n    window.scrollTo({top: 0});\r\n  },[activeId])\r\n  const [active,setActive] = useState(activeMap[activeId||'Protocol']);\r\n\r\n  // const handleAnchorClick = (event: { preventDefault: () => void; }, targetId: string) => {\r\n  //   event.preventDefault();\r\n  //   const targetElement = document.getElementById(targetId);\r\n  //   const offset = 70; // 菜单栏的高度\r\n  //   const topPos = targetElement?.getBoundingClientRect()?.top||0 + window.pageYOffset - offset;\r\n  //   window.scrollTo({ top: topPos, behavior: 'smooth' });\r\n  // };\r\n\r\n  // const scrollToAnchor = (anchorName:string) => {\r\n  //   if (anchorName) {\r\n  //       // 找到锚点\r\n  //       let anchorElement = document.getElementById(anchorName);\r\n  //       let scrollPanel = document.getElementById(\"scrollPanel\");\r\n\r\n        \r\n  //       // 如果对应id的锚点存在，就跳转到锚点\r\n  //       if(anchorElement) {\r\n  //         const targetPosition = anchorElement.offsetTop - 150;\r\n\r\n  //         scrollPanel?.scrollTo(0, targetPosition)\r\n  //         //  anchorElement.scrollIntoView({block: 'start', behavior: 'smooth'});\r\n  //       }\r\n  //   }\r\n  // }\r\n\r\n\r\n  // scroll hand;\r\n  // const elementRef = useRef<Array<any>>([]);\r\n  // const scrollPanelDom = useRef<any>(null);\r\n  // const debouncedActive = useDebounce(active, 50); // 设置300毫秒的延迟\r\n  // const handleScroll = (activeNumber:number) => {\r\n  //   const element:any = elementRef.current[activeNumber];\r\n  //   if (!element) return;\r\n  \r\n  //   const rect = element.getBoundingClientRect();\r\n  //   // const isInViewport = rect.bottom >= 0 && rect.top <= window.innerHeight;\r\n  //   const isInViewport = rect.bottom >= 0 && rect.top-100 <= scrollPanelDom?.current.getBoundingClientRect().height;\r\n  //   if(isInViewport){\r\n  //      setActive(activeNumber)\r\n  //   }\r\n \r\n  // };\r\n\r\n\r\n  // useEffect(() => {\r\n  //   const scrollHandler0 = () => handleScroll(0);\r\n  //   const scrollHandler1 = () => handleScroll(1);\r\n  //   const scrollHandler2 = () => handleScroll(2);\r\n  //   const scrollHandler3 = () => handleScroll(3);\r\n  //   const scrollHandler4 = () => handleScroll(4);\r\n  //   const scrollHandler5 = () => handleScroll(5);\r\n  //   scrollPanelDom?.current.addEventListener('scroll', scrollHandler0);\r\n  //   scrollPanelDom?.current.addEventListener('scroll', scrollHandler1);\r\n  //   scrollPanelDom?.current.addEventListener('scroll', scrollHandler2);\r\n  //   scrollPanelDom?.current.addEventListener('scroll', scrollHandler3);\r\n  //   scrollPanelDom?.current.addEventListener('scroll', scrollHandler4);\r\n  //   scrollPanelDom?.current.addEventListener('scroll', scrollHandler5);\r\n\r\n  //   return () => {\r\n  //     try {\r\n  //       scrollPanelDom?.current.removeEventListener('scroll', scrollHandler0);\r\n  //       scrollPanelDom?.current.removeEventListener('scroll', scrollHandler1);\r\n  //       scrollPanelDom?.current.removeEventListener('scroll', scrollHandler2);\r\n  //       scrollPanelDom?.current.removeEventListener('scroll', scrollHandler3);\r\n  //       scrollPanelDom?.current.removeEventListener('scroll', scrollHandler4);\r\n  //       scrollPanelDom?.current.removeEventListener('scroll', scrollHandler5);\r\n  //     } catch (error) {\r\n        \r\n  //     }\r\n  \r\n  //   };\r\n  // }, []);\r\n\r\n  // learnDoc css\r\n  useEffect(() => {\r\n    const linkElement = document.createElement('link');\r\n    linkElement.rel = 'stylesheet';\r\n    linkElement.href = '/css/learnDoc.module.css'; // 使用相对路径\r\n    document.head.appendChild(linkElement);\r\n    return () => {\r\n      document.head.removeChild(linkElement);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    \r\n    <Panel className={`items-center flex-col ${styles['page']}`}>\r\n   \r\n      <div className={`w-full lg:max-w-auto lg:px-[30px] xl:px-[0px] xl:max-w-[1240px] flex-col ${styles['group']} ${styles['space-y-35']}`}>\r\n        <div className={`flex-col ${styles['group_2']}`}>\r\n          <div className={`flex-1 flex-row justify-center ${styles['group_3']} ${styles['space-x-36']}`}>\r\n\r\n            <div  id=\"scrollPanel\" className={`rst-content flex flex-1 flex-col  ${styles['conent_panel']}`}>\r\n\r\n              {active===0 && <>\r\n              <span   id=\"ElfinGuard Access-Control Protocol\"></span>\r\n              <div    style={{flexShrink:\"unset\"}} className=\"section\" id=\"elfinguard-access-control-protocol\">\r\n                <h1 className={`${styles['text-title']}`}>ElfinGuard Access-Control Protocol<a className=\"headerlink\" href=\"#elfinguard-access-control-protocol\" title=\"Permalink to this headline\"></a></h1>\r\n                <p>Today users can store information with the help of Decentralized File Hosting. However, decentralizing the storage is not enough. In order to ensure full protection, users need an access-control protocol.</p>\r\n                <p>We aim to add this missing link by combining the power of decentralized storage with advanced access control. ElfinGuard is revolutionizing the way users protect their data.</p>\r\n            \r\n                <div className=\"section\" id=\"the-value-of-access-control\">\r\n                <h2>The Value of Access-Control<a className=\"headerlink\" href=\"#the-value-of-access-control\" title=\"Permalink to this headline\"></a></h2>\r\n                <p>Web 2.0 relies heavily on file hosting in tandem with content delivery networks (CDNs) to deliver multimedia contents to users.  Authors spend time and effort to create the content, and it costs them storage and bandwidth resources to deliver it to their target users. Authors and Delivery services earn revenue from end users, either directly (fees) or indirectly (advertisement). The Web 2.0 era has generated multiple centralized methods to directly control access to these contents; businesses can not profit if users can extract any content without permission.</p>\r\n                <p>Web 3.0 has seemingly solved the problem of centralized file storage; solutions such as IPFS, Filecoin, Swarm and Arweave offer decentralized file storage. However, this technology only incentivizes storage providers. There is no earning opportunity for authors and deliverers by using decentralized file storage solutions as there are no access-control methods.</p>\r\n                <p>Blockchains build an internet of value, smart contracts enable programmable value, but can the traditional internet of information be built with blockchains as well?  Can smart contracts facilitate information accessing? ElfinGuard answers both these questions.</p>\r\n                <p>ElfinGuard’s access-control protocol allows authors to program who, how and when the usesrs can access content on decentralized storages. This technology will pave the way for new blockchain-oriented business models.</p>\r\n                <p>ElfinGuard’s access-control protocol has the following innovative features:</p>\r\n                <ol className=\"arabic simple\">\r\n                <li>Hardware-based protection; making it more reliable than law, morality,&nbsp;discipline, or human-controlled permissions.</li>\r\n                <li>Easily programmable with solidity; authorization is based on smart contracts and on-chain states.</li>\r\n                <li>No single-point of failure; content delivery and authorization are decentralized.</li>\r\n                </ol>\r\n                <p>This article introduces the protocol step-by-step.  Each step will refine the granularity of the solution, ultimately providing a comprehensive understanding of this innovative technology.</p>\r\n                </div>\r\n                <div className=\"section\" id=\"enforced-permissions-on-public-data\">\r\n                <h2>Enforced Permissions on Public Data<a className=\"headerlink\" href=\"#enforced-permissions-on-public-data\" title=\"Permalink to this headline\"></a></h2>\r\n                <p>While there isn’t a common definition of Web 3.0, most people believe it will empower users to control their own data, enjoy greater privacy and prevent centralized platforms from monopolizing the acquisition, recommendation, and censorship of their information. Thus, the decentralization of data storage and data delivery are key cornerstones of Web 3.0.</p>\r\n                <p>Today, decentralized storage is easily accessible.  The solutions, such as IPFS, have made significant strides in enabling users to store and deliver the content. For example, users can pin a video on IPFS with multiple utilities.  However, delivering the content efficiently and smoothly to all viewers still remains challenging. This is where centralized platforms provide the most value as they ensure smooth delivery to a mass audience.</p>\r\n                <p>As content becomes more sophisticated, it requires larger file size to contain high-resolution pictures, articles with tables &amp; figures, and large audio &amp; video content, which are expensive to transfer, even more so than to store them. This is because the cost of bandwidth is higher than that of storage.  Content delivery networks (CDNs) can help reduce the bandwidth cost by caching data in edge nodes that are close to the target audience.</p>\r\n                <p>In the Web 3.0 era, users still need CDNs. However, CDN providers only serve websites that pay them.  Providers use the “same origin policy” to decide whether to serve a request.  If website B contains an image or video from website A, the CDN provider will not serve B by providing A’s contents.</p>\r\n                <p>Decentralized storage schemes, on the other hand, do not explicitly reveal a file’s origin or constrain access to files based on the “same origin policy.”  Thus, users can only encourage CDN providers to serve permissionless data to the public, i.e., ignore which website or App is requesting the data, which severely limits the use cases for authors.</p>\r\n                <p>This is where ElfinGuard comes in. ElfinGuard allows authors to create enforceable permissions on public content in decentralized storages and ensures only their target audience can access that content.</p>\r\n                <p>Encryption enclaves plays a critical role in helping authors secure their content and reach the target audience .  Encryption enclaves connect to each other and share one symmetric key for encryption/decryption.  This key is generated inside one encryption enclave and broadcasted to others through secure channels, and hardware enclaves protect the symmetric key.  An original file, together with its target audience’s addresses, is encrypted into one file via an encryption enclave. The encrypted file is then stored on IPFS.</p>\r\n                <p>When a user requests the original file, a CDN provider fetches the encrypted data and uses an encryption enclave to decrypt it.  The enclave will then check if the requester’s address is listed as the file’s target audience. If so, it decrypts the file and the CDN provider sends the original file to the requester.</p>\r\n                </div>\r\n                <div className=\"section\" id=\"end-to-end-encryption\">\r\n                <h2>End-to-end encryption<a className=\"headerlink\" href=\"#end-to-end-encryption\" title=\"Permalink to this headline\"></a></h2>\r\n                <p>On Web 2.0 platforms users can update original files without any encryption.  As a result, these files can be vulnerable to being leaked to the public or malicious attackers, even if users request a platform to keep them private.  Most Platforms are required by law and company rule to have an active privacy disclosure, but the uploaded files must be stored in databases, which use human-controlled permissions to limit access.  Software vulnerabilities and human errors or unfaithfulness can still result in data leaks, despite a platform’s best efforts to enact privacy disclosure.</p>\r\n                <p>Moreover, operators on a CDN provider’s backend can view any content, regardless of the access constraint of the actual website it serves.  In our above example, the CDN provider can keep a copy of the decrypted file against the author’s will.</p>\r\n                <p>The solution to these issues is upgrading encryption enclaves to “re-cryptors”.  A re-cryptor takes an encrypted file as an input, decrypts it into the original content, and finally re-encrypts it with another distinct key.</p>\r\n                <p>When an author wants a re-cryptor to encrypt a file before uploading it to IPFS, he or she must encrypt the original file beforehand with a shared secret that is only known to them and the re-cryptor.  When a user requests a re-cryptor to decrypt a file from IPFS, he or she will get a file encrypted with the shared secret, not the original file.</p>\r\n                <p>During the whole process of storing and delivering, only the inside logic of the re-cryptor enclave can access the original content, and the usage of hardware enclaves ensures it will never be leaked.  Therefore, other than the author and the target audience, no other humans from the platform or CDN provider can view the original content.</p>\r\n                </div>\r\n                <div className=\"section\" id=\"authorization-contracts\">\r\n                <h2>Authorization contracts<a className=\"headerlink\" href=\"#authorization-contracts\" title=\"Permalink to this headline\"></a></h2>\r\n                <p>Traditionally, CDN providers require authorization servers to provide sophisticated dynamic access control.  Authorization servers are typically created by a CDN provider’s customer.  For example, if Bob requests to view a URL of website A, the CDN provider will ask the website A’s authorization server whether Bob is authorized to view the URL.  The website A may allow Bob to view it if he is a VVIP, or make Bob wait until Friday if he is a VIP, or deny Bob if he is neither.  However, in the Web 3.0 era, authors need a more streamlined way for dynamic access control as running an authorization server is too complicated and time consuming for ordinary authors.</p>\r\n                <p>One solution to this problem is to use on-chain Smart Contracts for dynamic access control.  For instance, an author may choose to restrict access to their content to only holders of specific NFTs or ERC20 tokens.  A re-cryptor then uses an <cite>eth_call</cite> to invoke a smart contract’s function with the requestor’s address as the argument, if it returns “true” then the requestor is granted access.  The file uploaded to IPFS specifies which contracts to call and how to call them, rather than a static set of target audience. This approach provides authors with a more efficient and effective way to manage dynamic access control.</p>\r\n                </div>\r\n                <div className=\"section\" id=\"multi-grant-from-authorities\">\r\n                <h2>Multi-Grant from Authorities<a className=\"headerlink\" href=\"#multi-grant-from-authorities\" title=\"Permalink to this headline\"></a></h2>\r\n                <p>When a re-cryptor requires <cite>eth_call</cite> for authorization, there’s a potential for ‘Witch Attacks’ to occur.  To query <cite>eth_call</cite>, users need a blockchain node to provide RPC endpoints.  A node can be run by a user, but in most cases the user will rent a node from a Node-as-a-Service (NaaS) provider.</p>\r\n                <p>Although the re-cryptors’ internal data and logic are safe under the protection of enclaves, the input data the re-cryptor receives through <cite>eth_call</cite> may be incorrect – this can be for various reasons.  A CDN provider may receive incorrect information from a NaaS provider due to incorrect configuration of the re-cryptor’s DNS and TLS settings.  A node run by a CDN provider may also return incorrect information if it is hacked because of vulnerabilities.  Any CDN provider may have security problems; thus, trusting one single CDN provider is problematic for content authors.</p>\r\n                <p>To address this issue, the solution is to separate the task of authorization out from the re-cryptors and use dedicated Authorizers to query <cite>eth_call</cite>.  These authorizers are run by several trustworthy authorities and have strong security measures and good reputations.</p>\r\n                <p>To further protect the symmetric key, we use a “multi-grant” scheme which is like that of “multi-signature.” The content creator specifies an “N” number of authorities and a threshold number “M” (M &lt; N).  Before uploading, the re-cryptor must encrypt the original file with all “N” grant codes.  In tandem, before the re-cryptor decrypts a file for a requestor, the requestor must collect at least “M” grant codes from the specified authorities.</p>\r\n                <p>All Authorizers run by the same authority have the same “grant root”.  For each individual file, an authorizer derives a unique grant code from the grant root, after it ensures the requestor is allowed access to the file. The derived grant root is generated inside enclaves and shared amongst enclaves, ensuring that even an operator employed by the authority cannot view the root value.  The grant codes are sent from authorizers to re-cryptors through secure channels which prevent any third party from viewing them.  To ensure grant codes are sent only to trustable enclaves, authorizers always check with the re-cryptors before opening secure channels.</p>\r\n                <p>(The encryption/decryption algorithm for “multi-grant” will be introduced in a separate article.)</p>\r\n                </div>\r\n                <div className=\"section\" id=\"multi-zone-to-mitigate-risks-of-enclaves-vulnerabilities\">\r\n                <h2>Multi-zone to mitigate risks of enclaves’ vulnerabilities<a className=\"headerlink\" href=\"#multi-zone-to-mitigate-risks-of-enclaves-vulnerabilities\" title=\"Permalink to this headline\"></a></h2>\r\n                <p>Enclaves are integral to a system’s security, but it still may be compromised if the underlying hardware has vulnerabilities.  Despite there have been no real attacks reported on CPUs with hyperthreading disabled, the risk of security breaches still exists.</p>\r\n                <p>Currently, enclaves can be implemented using Intel’s SGX &amp; TDX, AMD’s SEV-SNP, ARM’s TEE, and AWS’s Nitro.  SGX is the most mature and mainstream solution while the others are rapidly evolving.  Enclaves are divided into different zones, and each zone uses the same technology.  For example, all enclaves based on Intel SGX are in the same zone.</p>\r\n                <p>The probability of all zones being simultaneously exploited by hackers is extremely low.  However, an author can further protect his or her file by splitting it into multiple parts, each of which is protected by a different enclave zone.</p>\r\n                <p>For example, an author divides a file into three parts: Part #1 is protected by SGX enclaves, Part #2 by SEV-SNP enclaves, and Part #3 by AWS’s Nitro enclaves.  This approach requires the audience to retrieve all three parts to recover the full original file.</p>\r\n                </div>\r\n                <div className=\"section\" id=\"the-big-picture\">\r\n                <h2>The Big Picture<a className=\"headerlink\" href=\"#the-big-picture\" title=\"Permalink to this headline\"></a></h2>\r\n                <p>ElfinGuard Access-Control Protocol uses smart contracts to manage file accessibility with following functions:</p>\r\n                <img alt=\"image/PC/learn/flow.png\" src=\"image/PC/learn/flow.png\" />\r\n                <p>The author uses smart contracts to program file accessibility and uploads these files to re-cryptors run by CDN providers.  The re-cryptors encrypt files and store them in decentralized storage services.</p>\r\n                <p>When the audience wants to view a file, they must connect to a re-cryptor that can retrieve the file out from the decentralized storages.  The re-cryptor will request the authorizer to grant file decryption.  When the re-cryptor decrypts the file, the audience can download it.</p>\r\n                <p>The content author writes smart contracts to specify what audience behaviors or states on blockchains will be qualified to view the file.  In most cases the ‘behavior’ is a payment (audience pays the author directly with ERC20 tokens) and the ‘state’ is ownership of certain NFTs.</p>\r\n                <p>To close the circle, an authorizor uses the blockchain’s RPC nodes to determine whether to grant the decryption based on specified behaviors or states.  Once these processes are completed and verified, the author’s intended audience can view the content.</p>\r\n                </div>\r\n              </div>\r\n              </>\r\n              }\r\n\r\n               {active===1 && <>\r\n                <span  id=\"Elfin Authorizer\"></span>\r\n                <div    style={{flexShrink:\"unset\"}} className=\"section\" id=\"elfin-authorizer\">\r\n                    <h1 className={`${styles['text-title']}`}>Elfin Authorizer<a className=\"headerlink\" href=\"#elfin-authorizer\" title=\"Permalink to this headline\"></a></h1>\r\n                    <div className=\"section\" id=\"blockchain-based-authorizing\">\r\n                      <h2>Blockchain-based Authorizing<a className=\"headerlink\" href=\"#blockchain-based-authorizing\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>In the Web 2.0 era, account-based access control is very common. You must register to a website or App. Then it grants you a “level”, such as Guest, VIP, SVIP, etc. With different levels, you have different service quality. For example, some high-quality contents are only available to VIP, and SVIP account can view a new TV show much earlier than a guest account.</p>\r\n                      <p>As we come into the Web 3.0 era, authorization based on blockchain accounts are more and more popular. Many websites and Apps support “login with Web3 wallets”. But just login is not enough. We also want to use on-chain state to assign different levels to the accounts. When a website decides whether to provide a service to a specific account, it may want to consider:</p>\r\n                      <ol className=\"arabic simple\">\r\n                        <li>Historical contract interaction. Did it even send transactions to call some contracts?</li>\r\n                        <li>Historical events. Did it ever receive some ERC20 token or NFT?</li>\r\n                        <li>The latest state of the account. Does it own some ERC20 token or NFT? Does it belong to some DAO?</li>\r\n                      </ol>\r\n                      <p>These conditions can be AND-ed/OR-ed together to form more sophisticated conditions.</p>\r\n                      <p>Node-as-a-service (NaaS) providers runs plenty of nodes of different blockchains. Accessing on-chain state is a regular task for them. It would be very easy for them to add a new service: Elfin authorizers.</p>\r\n                      <p>Elfin authorizers can assign access permissions to accounts according to such sophisticated conditions. A website or App can outsource the permissioning task to them.</p>\r\n                      <p>Elfin authorizers are oracles which endorse facts by signing them using their private keys. This article introduces the different facts they can sign and how to express sophisticated conditions using these signed facts.</p>\r\n                      <div className=\"section\" id=\"primitives-provided-by-authorizers\">\r\n                        <h5>Primitives provided by authorizers<a className=\"headerlink\" href=\"#primitives-provided-by-authorizers\" title=\"Permalink to this headline\"></a></h5>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"section\" id=\"endorse-historical-contract-interaction\">\r\n                      <h2>Endorse historical contract interaction<a className=\"headerlink\" href=\"#endorse-historical-contract-interaction\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>A historical transaction can be described by such a solidity struct:</p>\r\n                      <div className=\"highlight-solidity notranslate\"><div className=\"highlight\"><pre><span /><span className=\"kt\">struct</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">TxInfo</span><span className=\" -WhiteSpace\"> </span><span className=\"p\">{\"{\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">chainId</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// which chain did this log happen on?</span>{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">timestamp</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// when did this log happend at?</span>{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">txid</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// the transaction's hash id</span>{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">address</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">fromAccount</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">address</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">toAccount</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">value</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">bytes</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">callData</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\"p\">{\"}\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>If a transaction really happend in a blockchain’s history, the Elfin authorizer generates a <cite>TxInfo</cite> struct to describe it. Then it uses <cite>abi.encodePacked</cite> to serialize this struct into raw bytes and sign the keccak256 hash of the raw bytes. In such a way it endorses this transaction using its private key.</p>\r\n                    </div>\r\n                    <div className=\"section\" id=\"endorse-historical-events\">\r\n                      <h2>Endorse historical events<a className=\"headerlink\" href=\"#endorse-historical-events\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>Events are implemented using EVM logs. A EVM log can be described by such a solidity struct:</p>\r\n                      <div className=\"highlight-solidity notranslate\"><div className=\"highlight\"><pre><span /><span className=\"kt\">struct</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">LogInfo</span><span className=\" -WhiteSpace\"> </span><span className=\"p\">{\"{\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">chainId</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// which chain did this log happen on?</span>{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">timestamp</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// when did this log happend at?</span>{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">address</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">sourceContract</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// which contract generates this log?</span>{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">bytes32</span><span className=\"p\">[]</span><span className=\" -WhiteSpace\"> </span>topics<span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// a log has 0~4 topics</span>{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">bytes</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">data</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// a log has variable-length data</span>{\"\\n\"}{\"                \"}<span className=\"p\">{\"}\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>If a transaction really happend in a blockchain’s history, the Elfin authorizer generates a <cite>LogInfo</cite> struct to describe it. Then it uses <cite>abi.encodePacked</cite> to serialize this struct into raw bytes and sign the keccak256 hash of the raw bytes. In such a way it endorses this event using its private key.</p>\r\n                    </div>\r\n                    <div className=\"section\" id=\"endorse-the-outputs-of-eth-call\">\r\n                      <h2>Endorse the outputs of eth_call<a className=\"headerlink\" href=\"#endorse-the-outputs-of-eth-call\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>A requestor asks the Elfin authorizer to query the <cite>eth_call</cite> endpiont of Web3 RPC servers. The 16~35 bytes of the call data used for <cite>eth_call</cite> must equal the authorizer’s EVM address calculated from its private key. The authorizer collects the related information about this <cite>eth_call</cite> to fill the following struct:</p>\r\n                      <div className=\"highlight-solidity notranslate\"><div className=\"highlight\"><pre><span /><span className=\"kt\">struct</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">EthCallInfo</span><span className=\" -WhiteSpace\"> </span><span className=\"p\">{\"{\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">chainId</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">timestamp</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">address</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">fromAccount</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">address</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">targetContract</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span>bytes4<span className=\" -WhiteSpace\"> </span>functionSelector<span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">bytes</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">outData</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\"p\">{\"}\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>Then it uses <cite>abi.encodePacked</cite> to serialize this struct into raw bytes and sign the keccak256 hash of the raw bytes. In such a way it endorses the outputs of <cite>eth_call</cite> using its private key.</p>\r\n                    </div>\r\n                    <div className=\"section\" id=\"granting-secrets-to-account-owners\">\r\n                      <h2>Granting secrets to account owners<a className=\"headerlink\" href=\"#granting-secrets-to-account-owners\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>A requestor asks the Elfin authorizer to query the <cite>eth_call</cite> endpiont of Web3 RPC servers. The 16~35 bytes of the call data used for <cite>eth_call</cite> must equal the authorizer’s EVM address calculated from its private key. The from-account for <cite>eth_call</cite> must be the requestor’s EVM address (a <cite>personal_sign</cite> signature is required to ensure this). The authorizer collects the related information about this <cite>eth_call</cite> to fill the following struct:</p>\r\n                      <div className=\"highlight-solidity notranslate\"><div className=\"highlight\"><pre><span /><span className=\"kt\">struct</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">SecretSeed</span><span className=\" -WhiteSpace\"> </span><span className=\"p\">{\"{\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">chainId</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span>bytes4<span className=\" -WhiteSpace\"> </span>functionSelector<span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">address</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">targetContract</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">bytes</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">outData</span><span className=\"p\">;</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}<span className=\"p\">{\"}\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>Then it uses <cite>abi.encodePacked</cite> to serialize this struct into raw bytes and calculate the keccak256 hash of the raw bytes. With its private key and this hash, it generates a VRF (verifiable random function) output and a proof. The VRF output is a secret that only qualified requestor can get.</p>\r\n                      <p>For granting secrets, authorizers also supports a recryptor mode, which requires the request comes from a recryptor’s enclave. In the recryptor mode, the raw bytes’ sha256 hash is used for VRF, instead of keccak256 hash.</p>\r\n                      <div className=\"section\" id=\"write-authorization-contract-to-express-sophisticated-conditions\">\r\n                        <h5>Write authorization contract to express sophisticated conditions<a className=\"headerlink\" href=\"#write-authorization-contract-to-express-sophisticated-conditions\" title=\"Permalink to this headline\"></a></h5>\r\n                        <p>Suppose we want to provide a file-sharing service only to such qualified accounts:</p>\r\n                        <ol className=\"arabic simple\">\r\n                          <li>Someone who is explicitly marked as qualified member by a superuser</li>\r\n                          <li>Someone who has called a contract and received a given ERC20 token in the recent two months</li>\r\n                        </ol>\r\n                        <p>The <cite>isQualified</cite> function of the following <cite>Membership</cite> contract can check if <cite>msg.sender</cite> is a qualified account:</p>\r\n                        <div className=\"highlight-solidity notranslate\"><div className=\"highlight\"><pre><span />import \"@openzeppelin/contracts/access/Ownable.sol\";{\"\\n\"}{\"\\n\"}{\"                \"}struct Signature {\"{\"}{\"\\n\"}{\"                        \"}uint8 v;{\"\\n\"}{\"                        \"}bytes32 r;{\"\\n\"}{\"                        \"}bytes32 s;{\"\\n\"}{\"                \"}{\"}\"}{\"\\n\"}{\"\\n\"}{\"                \"}contract Membership is Ownable {\"{\"}{\"\\n\"}{\"                    \"}mapping(address =&gt; bool) public isMember;{\"\\n\"}{\"                    \"}mapping(uint =&gt; bool) public forbiddenFiles;{\"\\n\"}{\"                    \"}address immutable public erc20Token;{\"\\n\"}{\"                    \"}address immutable public calledContract;{\"\\n\"}{\"                    \"}bytes32 constant private TransferEvent = keccak256(\"transfer(address,address,uint256)\");{\"\\n\"}{\"                    \"}string constant private PREFIX = \"\\x19Ethereum Signed Message:\\n32\";{\"\\n\"}{\"\\n\"}{\"                    \"}constructor(address _erc20Token, address _calledContract) Ownable() {\"{\"}{\"\\n\"}{\"                        \"}erc20Token = _erc20Token;{\"\\n\"}{\"                        \"}calledContract = _calledContract;{\"\\n\"}{\"                    \"}{\"}\"}{\"\\n\"}{\"\\n\"}{\"                    \"}function setMembership(address addr, bool ok) public onlyOwner {\"{\"}{\"\\n\"}{\"                        \"}isMember[addr] = ok;{\"\\n\"}{\"                    \"}{\"}\"}{\"\\n\"}{\"\\n\"}{\"                    \"}function getHash(TxInfo calldata t) internal pure returns (bytes32) {\"{\"}{\"\\n\"}{\"                        \"}bytes32 h = keccak256(abi.encodePacked(t.chainId, t.timestamp, t.txid, t.fromAccount, t.toAccount, t.value, t.callData));{\"\\n\"}{\"                        \"}return keccak256(abi.encodePacked(PREFIX, h));{\"\\n\"}{\"                    \"}{\"}\"}{\"\\n\"}{\"\\n\"}{\"                    \"}function getHash(LogInfo calldata l) internal pure returns (bytes32) {\"{\"}{\"\\n\"}{\"                        \"}bytes32 h = keccak256(abi.encodePacked(l.chainId, l.timestamp, l.sourceContract, l.topics, l.data));{\"\\n\"}{\"                        \"}return keccak256(abi.encodePacked(PREFIX, h));{\"\\n\"}{\"                    \"}{\"}\"}{\"\\n\"}{\"\\n\"}{\"                    \"}function isQualified(address authorizer, TxInfo calldata txInfo, Signature calldata txSig,{\"\\n\"}{\"                                \"}LogInfo calldata logInfo, Signature calldata logSig) public view returns (bool) {\"{\"}{\"\\n\"}{\"                        \"}if(isMember[msg.sender]) return true;{\"\\n\"}{\"                        \"}require(authorizer==ecrecover(getHash(txInfo), txSig.v, txSig.r, txSig.s), \"invalid-txSig\");{\"\\n\"}{\"                        \"}require(authorizer==ecrecover(getHash(logInfo), logSig.v, logSig.r, logSig.s), \"invalid-logSig\");{\"\\n\"}{\"                        \"}uint twoMonthAgo = block.timestamp - 60 days;{\"\\n\"}{\"                        \"}return txInfo.toAccount==calledContract &amp;&amp; txInfo.fromAccount == msg.sender &amp;&amp;{\"\\n\"}{\"                            \"}logInfo.topics[0]==TransferEvent &amp;&amp; logInfo.topics[2]==bytes32(bytes20(msg.sender)) &amp;&amp;{\"\\n\"}{\"                            \"}twoMonthAgo &lt; txInfo.timestamp &amp;&amp; twoMonthAgo &lt; logInfo.timestamp;{\"\\n\"}{\"                    \"}{\"}\"}{\"\\n\"}{\"                \"}{\"}\"}{\"\\n\"}{\"                \"}</pre></div>\r\n                        </div>\r\n                        <p>Before calling <cite>isQualifed</cite>, a requestor must query the authorizer to get <cite>TxInfo</cite> and <cite>LogInfo</cite>, which will be used as the arguments to call <cite>isQualified</cite>. The first argument must be the authorizer’s address, which is used to ensure the <cite>TxInfo</cite> and <cite>LogInfo</cite> were really generated by the same authorizer.</p>\r\n                        <p>When the authorizer endorses the <cite>EthCallInfo</cite> struct after calling <cite>isQualified</cite>, the requestor has a proof that he is a qualified account.</p>\r\n                        <p>Now, we want to upgrade this file-sharing service to support encryption and decryption. The files are decrypted with symmetric keys which is only known to the qualified accounts. Any qualified account can use the symmetric key of current time to encrypt and upload files. But different accounts have different permissions in decryption:</p>\r\n                        <ol className=\"arabic simple\">\r\n                          <li>Someone who is explicitly marked as qualified member by a superuser, can decrypt all the files.</li>\r\n                          <li>Someone who has called a contract and received a given ERC20 token in the recent two months, can only decrypt the files which are encrypted in recent five days.</li>\r\n                        </ol>\r\n                        <p>We add a new function <cite>getSecret</cite> to the <cite>Membership</cite> contract:</p>\r\n                        <div className=\"highlight-solidity notranslate\"><div className=\"highlight\"><pre><span />function setForbidden(uint fileid, bool foridden) public onlyOwner {\"{\"}{\"\\n\"}{\"                    \"}forbiddenFiles[fileid] = foridden;{\"\\n\"}{\"                \"}{\"}\"}{\"\\n\"}{\"\\n\"}{\"                \"}function getSecret(address authorizer, uint fileid, TxInfo calldata txInfo, Signature calldata txSig,{\"\\n\"}{\"                        \"}LogInfo calldata logInfo, Signature calldata logSig, uint shareTime) public view returns (uint, uint) {\"{\"}{\"\\n\"}{\"                    \"}if(forbiddenFiles[fileid]) return (0, 0);{\"\\n\"}{\"                    \"}if(isMember[msg.sender]) return (shareTime, fileid);{\"\\n\"}{\"                    \"}require(authorizer==ecrecover(getHash(txInfo), txSig.v, txSig.r, txSig.s), \"invalid-txSig\");{\"\\n\"}{\"                    \"}require(authorizer==ecrecover(getHash(logInfo), logSig.v, logSig.r, logSig.s), \"invalid-logSig\");{\"\\n\"}{\"                    \"}uint twoMonthAgo = block.timestamp - 60 days;{\"\\n\"}{\"                    \"}bool qualified = txInfo.toAccount==calledContract &amp;&amp; txInfo.fromAccount == msg.sender &amp;&amp;{\"\\n\"}{\"                        \"}logInfo.topics[0]==TransferEvent &amp;&amp; logInfo.topics[2]==bytes32(bytes20(msg.sender)) &amp;&amp;{\"\\n\"}{\"                        \"}twoMonthAgo &lt; txInfo.timestamp &amp;&amp; twoMonthAgo &lt; logInfo.timestamp;{\"\\n\"}{\"                    \"}if(qualified &amp;&amp; block.timestamp - 5 days &lt; shareTime &amp;&amp; shareTime &lt; block.timestamp + 1 hours) {\"{\"}{\"\\n\"}{\"                        \"}return (shareTime, fileid);{\"\\n\"}{\"                    \"}{\"}\"}{\"\\n\"}{\"                    \"}return (0, 0);{\"\\n\"}{\"                \"}{\"}\"}{\"\\n\"}{\"                \"}</pre></div>\r\n                        </div>\r\n                        <p>The argument <cite>shareTime</cite> is the  time when this file was encrypted and shared. The <cite>fileid</cite> is a unque id assigned to each shared file. The superuse can disable the sharing of individual files by calling <cite>setForbidden</cite> using <cite>fileid</cite>. If several files belong to a single file logically, such as the segments of the same m3u8 file, or the files of a multi-part archive, it is suggested that they share the same <cite>fileid</cite>.</p>\r\n                        <p>A requestor asks the authorizer to call <cite>getSecret</cite> function for secret-granting. The authorizer will fill a <cite>SecretSeed</cite> struct and use it to generate a VRF output. This output is used as the symmetric key for encryption and decryption.</p>\r\n                      </div>\r\n                      <div className=\"section\" id=\"the-rpc-endpoints\">\r\n                        <h5>The RPC Endpoints<a className=\"headerlink\" href=\"#the-rpc-endpoints\" title=\"Permalink to this headline\"></a></h5>\r\n                        <p>An authorizer provides four RPC endpoints to support the mentioned primitives. All these endpoints returns a JSON object, with the following fields:</p>\r\n                        <ol className=\"arabic simple\">\r\n                          <li>IsSuccess: If the RPC finishes successfully</li>\r\n                          <li>Message: When IsSuccess equals true, it’s an empty string. When IsSuccess equals false, it’s the string explaining the reason</li>\r\n                          <li>Result: for granting secret, this is the from-account’s address and the VRF output (in recryptor mode this output is encrypted); for the other endpoints, this is the raw bytes to be signed.</li>\r\n                          <li>Proof: for granting secret, this is the VRF proof; for the other endpoints, this is the signature</li>\r\n                          <li>Salt:  Only used in the recryptor mode for granting secret. It’s first eight bytes is the current timestamp (little endian) and the other bytes are random number generated by hardware RNG.</li>\r\n                          <li>PubKey: Only used in the recryptor mode for granting secret. It’s the authorizer’s public key.</li>\r\n                        </ol>\r\n                        <p>In recryptor mode, the recryptor calculates a secret with its private key and the authorizer’s PubKey, and then uses this secret and the returned Salt to decrypt the returned Result to get VRF output.</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"section\" id=\"endorse-historical-contract-interaction-1\">\r\n                      <h2>Endorse historical contract interaction<a className=\"headerlink\" href=\"#endorse-historical-contract-interaction-1\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>The RPC endpiont’s URL is like below:</p>\r\n                      <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_tx?hash<span className=\"o\">=</span>&lt;transaction-hash-id&gt;{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>The <cite>hash</cite> parameter is hex format and starts with “0x”.</p>\r\n                    </div>\r\n                    <div className=\"section\" id=\"endorse-historical-events-1\">\r\n                      <h2>Endorse historical events<a className=\"headerlink\" href=\"#endorse-historical-events-1\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>The RPC endpiont’s URL is like below:</p>\r\n                      <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_log?contract<span className=\"o\">=</span>&lt;contract-address&gt;<span className=\"p\">&amp;</span><span className=\"nv\">block</span><span className=\"o\">=</span>&lt;blockhash&gt;<span className=\"p\">&amp;</span><span className=\"nv\">topic0</span><span className=\"o\">=</span>&lt;hex-string&gt;<span className=\"p\">&amp;</span><span className=\"nv\">topic1</span><span className=\"o\">=</span>&lt;hex-string&gt;<span className=\"p\">&amp;</span><span className=\"nv\">topic2</span><span className=\"o\">=</span>&lt;hex-string&gt;<span className=\"p\">&amp;</span><span className=\"nv\">topic3</span><span className=\"o\">=</span>&lt;hex-string&gt;{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>The parameters <cite>topic0`~`topic3</cite> are used to filter out one single EVM log generated by the <cite>contract</cite> in the specified <cite>block</cite>. Some or all of them can be omitted, as long as exactly one EVM-log is got after filtering.</p>\r\n                      <p>All these parameters are hex format and start with “0x”.</p>\r\n                    </div>\r\n                    <div className=\"section\" id=\"endorse-the-outputs-of-eth-call-1\">\r\n                      <h2>Endorse the outputs of eth_call<a className=\"headerlink\" href=\"#endorse-the-outputs-of-eth-call-1\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>The RPC endpiont’s URL is like below:</p>\r\n                      <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_call?contract<span className=\"o\">=</span>&lt;contract-address&gt;<span className=\"p\">&amp;</span><span className=\"nv\">data</span><span className=\"o\">=</span>&lt;calldata&gt;<span className=\"p\">&amp;</span><span className=\"nv\">from</span><span className=\"o\">=</span>&lt;from-account-address&gt;{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>All these three parameters are hex format and start with “0x”.</p>\r\n                    </div>\r\n                    <div className=\"section\" id=\"granting-secrets-to-account-owners-1\">\r\n                      <h2>Granting secrets to account owners<a className=\"headerlink\" href=\"#granting-secrets-to-account-owners-1\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>The RPC endpiont’s URL is like below:</p>\r\n                      <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_grantcode?time<span className=\"o\">=</span>&lt;unix-timestamp&gt;<span className=\"p\">&amp;</span><span className=\"nv\">contract</span><span className=\"o\">=</span>&lt;contract-address&gt;<span className=\"p\">&amp;</span><span className=\"nv\">datalist</span><span className=\"o\">=</span>&lt;calldatalist&gt;<span className=\"p\">&amp;</span><span className=\"nv\">nth</span><span className=\"o\">=</span>&lt;index-of-calldata&gt;<span className=\"p\">&amp;</span><span className=\"nv\">sig</span><span className=\"o\">=</span>&lt;from-account-signature&gt;<span className=\"p\">&amp;</span><span className=\"nv\">recryptorpk</span><span className=\"o\">=</span>&lt;pubkey-of-recyrptor&gt;<span className=\"p\">&amp;</span><span className=\"nv\">out</span><span className=\"o\">=</span>&lt;outdata&gt;{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>The <cite>time</cite> parameter is a decimal integer. All the other five parameters are hex format and start with “0x”.</p>\r\n                      <p>The <cite>recryptorpk</cite> and <cite>out</cite> parameters are only used in recryptor mode, where the requestor is the recryptor enclave. The <cite>recryptorpk</cite> presents the public key of the recryptor and we are in recryptor mode if it is specified. In recryptor mode, the body of the http request must be the attestation report of the recryptor enclave. Authorizers check this report to ensure the request is sent from an SGX enclave.</p>\r\n                      <p><cite>calldatalist</cite> is a list of <cite>calldata</cite> for different authorizers to query <cite>eth_call</cite>. <cite>nth</cite> specifies which entry in <cite>calldatalist</cite> is the <cite>calldata</cite> for this authorizer. Each entry of <cite>calldatalist</cite> is a hex string and commas are used to separate the entries.</p>\r\n                      <p>The 20 bytes of <cite>calldata[16:36]</cite> will be overwritten by the authorizer’s EVM address, before the authorizer uses <cite>calldata</cite> to query <cite>eth_call</cite>. Thus, the called function can read this EVM address as its first argument.</p>\r\n                      <p>The from-account’s address can be recovered from the <cite>sig</cite> parameter. When the <cite>sig</cite> is omitted, the <cite>from</cite> account has zero address. The <cite>sig</cite> is generated using MetaMask’s <cite>personal_sign</cite>. The signed text is:</p>\r\n                      <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />To Authorizer: <span className=\"nv\">time</span><span className=\"o\">=</span>&lt;unix-timestamp&gt;, <span className=\"nv\">contract</span><span className=\"o\">=</span>&lt;contract-evm-address&gt;, <span className=\"nv\">data</span><span className=\"o\">=</span>&lt;keccak256-of-datalist-with-0x-prefix&gt;{\"\\n\"}{\"                \"}</pre></div>\r\n                      </div>\r\n                      <p>In recryptor mode, if the recryptor wants to push a file to cloud, it uses the <cite>out</cite> parameter to specifiy the output of <cite>eth_call</cite>. Then the authorization will not query <cite>eth_call</cite>. Instead, it uses the <cite>out</cite> parameter as the output of <cite>eth_call</cite>.</p>\r\n                      <div className=\"section\" id=\"load-balance-and-authentication\">\r\n                        <h5>Load Balance and Authentication<a className=\"headerlink\" href=\"#load-balance-and-authentication\" title=\"Permalink to this headline\"></a></h5>\r\n                        <p>The enclave implementation of Elfin authorizer is designed to run on a single machine. The service provider can run many Elfin authorizer enclaves and use a reverse proxy to distribute the requests to them.</p>\r\n                        <p>The provider can only provide services to a limited set of customers, such as the recryptors of a CDN vendor who has paid. The RPC endpoints provided by the enclave do not support authentication.</p>\r\n                        <p>If the provider would like to use some authentication methods (basic auth, API keys, etc), it can use the reverse proxy to deploy them. The basic auth header and the API key parameter must be removed before forwarding the request to the enclaves.</p>\r\n                      </div>\r\n                      <div className=\"section\" id=\"rate-limit\">\r\n                        <h5>Rate Limit<a className=\"headerlink\" href=\"#rate-limit\" title=\"Permalink to this headline\"></a></h5>\r\n                        <p>The Elfin authorizer does not support rate limit. The service provider can implement rate limit in the reverse proxy.</p>\r\n                      </div>\r\n                     </div>\r\n                </div>\r\n                </>\r\n                }\r\n\r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                {active===2 && <>\r\n                <span id=\"Elfin Recryptor\" />\r\n                <div   className=\"section\" style={{flexShrink:\"unset\"}}  id=\"elfin-recryptor\">\r\n                          <h1 className={`${styles['text-title']}`}>Elfin Recryptor<a className=\"headerlink\" href=\"#elfin-recryptor\" title=\"Permalink to this headline\"></a></h1>\r\n                          <div className=\"section\" id=\"a-new-function-in-content-delivery\">\r\n                            <h2>A new function in content delivery<a className=\"headerlink\" href=\"#a-new-function-in-content-delivery\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>CDN providers run recryptors to serve the authors and audience.</p>\r\n                            <p>The authors and audience connect to recryptor enclaves through https links directly. Even the CDN providers do not know what are transferred through the TLS tunnel.</p>\r\n                            <p>The recryptor acts as a <a className=\"reference external\" href=\"https://grpc.io\">gRPC</a> client to get IPFS data from a RPCX server run by the same CDN provider.</p>\r\n                            <div className=\"section\" id=\"serve-the-author\">\r\n                              <h5>Serve the author<a className=\"headerlink\" href=\"#serve-the-author\" title=\"Permalink to this headline\"></a></h5>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"section\" id=\"start-an-encryption-task\">\r\n                            <h2>Start an encryption task<a className=\"headerlink\" href=\"#start-an-encryption-task\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>A GET request should be sent to such a URL:</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_getEncryptTaskToken?fileId<span className=\"o\">=</span>&lt;hex-string&gt;<span className=\"p\">&amp;</span><span className=\"nv\">sig</span><span className=\"o\">=</span>&lt;hex-encoded-signature&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>It returns a json string with three fields:</p>\r\n                            <ol className=\"arabic simple\">\r\n                              <li>encrypt_task_token, an encryption task token (base58-encoded)</li>\r\n                              <li>recryptorsalt: a recryptorsalt (base64-encoded)</li>\r\n                              <li>pubkey: the recryptor’s pubkey (base64-encoded)</li>\r\n                            </ol>\r\n                            <p>The <cite>fileId</cite> is a unique id the author assigned to his files. It can be sha256sum or IPFS CID, or anything the author likes.</p>\r\n                            <p>The author endorses the <cite>fileId</cite> with a signature <cite>sig</cite>, which is generated using MetaMask’s <cite>personal_sign</cite>. The signed text is:</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />To Recryptor: <span className=\"nv\">fileId</span><span className=\"o\">=</span>&lt;hex-string-with-0x-prefix&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The recryptor salt is a true random number generated by the recryptor enclave. It will be used in decryption.</p>\r\n                          </div>\r\n                          <div className=\"section\" id=\"get-encrypted-parts-from-authorizers\">\r\n                            <h2>Get encrypted parts from authorizers<a className=\"headerlink\" href=\"#get-encrypted-parts-from-authorizers\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>A POST request should be sent to such a URL:</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_getEncryptedParts?token<span className=\"o\">=</span>&lt;base58-string&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The encryption task token is given as the <cite>token</cite> parameter. The body of the request is a json string with following schema:</p>\r\n                            <div className=\"highlight-json notranslate\"><div className=\"highlight\"><pre><span /><span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"$schema\"</span><span className=\"p\">:</span> <span className=\"s2\">\"http://json-schema.org/draft-04/schema#\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"title\"</span><span className=\"p\">:</span> <span className=\"s2\">\"ElfinGuard Encryption Guide\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"Instructions Used by Recryptors to Decrypt Files\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"object\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"properties\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"chainid\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"a hex string indicating the target chain's ID\"</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"contract\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the EVM address of the authorization contract\"</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"function\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the signature of the function to be called\"</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"threshold\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"integer\"</span>{\"\\n\"}{\"             \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the minimum number of authorizers required to decrypt this file\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"minimum\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"exclusiveMinimum\"</span><span className=\"p\">:</span> <span className=\"kc\">false</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"authorizerlist\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"array\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"items\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the domain name of an authorizer\"</span>{\"\\n\"}{\"             \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"minItems\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"uniqueItems\"</span><span className=\"p\">:</span> <span className=\"kc\">true</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"outdata\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"             \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the expected outdata from eth_call\"</span><span className=\"p\">,</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"    \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>It returns json-encoded byte string list. Each entry of the list is an encrypted parts from an authorizer.</p>\r\n                          </div>\r\n                          <div className=\"section\" id=\"encrypt-file-chunks\">\r\n                            <h2>Encrypt file chunks<a className=\"headerlink\" href=\"#encrypt-file-chunks\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>A POST request should be sent to follow URLs:</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_encryptChunk?token<span className=\"o\">=</span>&lt;base58-string&gt;<span className=\"p\">&amp;</span><span className=\"nv\">index</span><span className=\"o\">=</span>&lt;chunk-index&gt;{\"\\n\"}/eg_encryptChunkOnServer?token<span className=\"o\">=</span>&lt;base58-string&gt;<span className=\"p\">&amp;</span><span className=\"nv\">index</span><span className=\"o\">=</span>&lt;chunk-index&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>A file is looked as a list of 256KB chunks.  It must be encrypted chunk by chunk.</p>\r\n                            <p>The body of the request is the bytes of a chunk. The encryption task token is given as the <cite>token</cite> parameter, and <cite>index</cite> shows the index of this chunk in the file’s chunk list.</p>\r\n                            <p>The <cite>encryptChunk</cite> RPC returns the encrypted chunk. The <cite>encryptChunkOnServer</cite> RPC writes the encrypted chunk to the server’s local file at a proper offset indicated by the <cite>index</cite> parameter.</p>\r\n                            <p>Using repeatly requests, you can fill the fully-encrypted file at the client side (<cite>encryptChunk</cite>) or at the server side (<cite>encryptChunkOnServer</cite>).</p>\r\n                            <div className=\"section\" id=\"serve-the-audience\">\r\n                              <h5>Serve the audience<a className=\"headerlink\" href=\"#serve-the-audience\" title=\"Permalink to this headline\"></a></h5>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"section\" id=\"start-a-decryption-task\">\r\n                            <h2>Start a decryption task<a className=\"headerlink\" href=\"#start-a-decryption-task\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>The RPC endpiont’s URL is like below:</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_getDecryptTaskToken{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The body of the request is a json string with the follow schema:</p>\r\n                            <div className=\"highlight-json notranslate\"><div className=\"highlight\"><pre><span /><span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"$schema\"</span><span className=\"p\">:</span> <span className=\"s2\">\"http://json-schema.org/draft-04/schema#\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"title\"</span><span className=\"p\">:</span> <span className=\"s2\">\"ElfinGuard Decryption Guide\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"Instructions Used by Recryptors to Decrypt Files\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"object\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"properties\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"chainid\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"a hex string indicating the target chain's ID\"</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"contract\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the EVM address of the authorization contract\"</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"function\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the signature of the function to be called\"</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"threshold\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"integer\"</span>{\"\\n\"}{\"             \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the minimum number of authorizers required to decrypt this file\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"minimum\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"exclusiveMinimum\"</span><span className=\"p\">:</span> <span className=\"kc\">false</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"authorizerlist\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"array\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"items\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the domain name of an authorizer\"</span>{\"\\n\"}{\"             \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"minItems\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"uniqueItems\"</span><span className=\"p\">:</span> <span className=\"kc\">true</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"outdata\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"             \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the expected outdata from eth_call\"</span><span className=\"p\">,</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"         \"}<span className=\"s2\">\"encryptedparts\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"array\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"items\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"base64-encoded shamir part encrypted with the grantcode from the authorizer\"</span>{\"\\n\"}{\"             \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"minItems\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"uniqueItems\"</span><span className=\"p\">:</span> <span className=\"kc\">true</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"         \"}<span className=\"s2\">\"calldatalist\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"array\"</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"items\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the calldata sent to the authorizer as the calldata to call the contract address. calldata[36:68] must equal the fileid\"</span>{\"\\n\"}{\"             \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"minItems\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"uniqueItems\"</span><span className=\"p\">:</span> <span className=\"kc\">true</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"         \"}<span className=\"s2\">\"signature\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"             \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"a signature signed by the requestor\"</span><span className=\"p\">,</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"timestamp\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"integer\"</span>{\"\\n\"}{\"             \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the UNIX timestamp when the requestor signs the signature\"</span><span className=\"p\">,</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"recryptorsalt\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"             \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"random bytes generated by the recryptor\"</span><span className=\"p\">,</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"         \"}<span className=\"nt\">\"fileid\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"             \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"             \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"a unique id for this file\"</span><span className=\"p\">,</span>{\"\\n\"}{\"         \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"     \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The <cite>fileid</cite> parameter was specified by the author and was used in calling the <cite>getEncryptTaskToken</cite> endpoint. The <cite>recryptorsalt</cite> parameter was got by calling the <cite>getEncryptTaskToken</cite> endpoint.</p>\r\n                            <p>The requestor must properly construct the <cite>signature</cite> and <cite>calldatalist</cite> to prove he is qualified to view the file.</p>\r\n                            <p>This endpiont returns a json string with following fields:</p>\r\n                            <ol className=\"arabic simple\">\r\n                              <li>decrypt_task_token: a decryption task token (base58-encoded)</li>\r\n                              <li>pubkey: the recryptor’s pubkey (base64-encoded)</li>\r\n                            </ol>\r\n                          </div>\r\n                          <div className=\"section\" id=\"get-the-decrypted-file\">\r\n                            <h2>Get the decrypted file<a className=\"headerlink\" href=\"#get-the-decrypted-file\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>The RPC endpiont’s URL is like below:</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_decryptChunk?token<span className=\"o\">=</span>&lt;base58-string&gt;<span className=\"p\">&amp;</span><span className=\"nv\">index</span><span className=\"o\">=</span>&lt;unique-integer&gt;{\"\\n\"}/eg_getDecryptedFile?token<span className=\"o\">=</span>&lt;base58-string&gt;<span className=\"p\">&amp;</span><span className=\"nv\">path</span><span className=\"o\">=</span>&lt;file-path-on-ipfs&gt;<span className=\"p\">&amp;</span><span className=\"nv\">size</span><span className=\"o\">=</span>&lt;integer&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The <cite>decryptChunk</cite> endpoint decrypts the byte string given in the POST body and returns the decrypted plaintext. The <cite>getDecryptedFile</cite> endpoint decrypts a file on decentralized storage, and it supports resuming breakpoints during downloading, using the <cite>Content-Range</cite> Header.</p>\r\n                            <p>A client-side file can be encrypted by <cite>encryptChunk</cite> and then decrypted by <cite>decryptChunk</cite>. The <cite>index</cite> parameter used by <cite>decryptChunk</cite> must be the same as the one used when calling <cite>encryptChunk</cite>. The <cite>encryptChunk</cite>/<cite>decryptChunk</cite> endpoints are sued in some use cases where files are shared through some traditional methods, such as email and ftp, instead of decentralized storages.</p>\r\n                            <p>The decryption task token is given as the <cite>token</cite> parameter. The <cite>path</cite> pamameter specifies a file on IPFS from the RPCX/gRPC server. The <cite>size</cite> parameter specifies the size of the returned data. If the decrypted data is larger than it, then the tail is truncated and not returned.</p>\r\n                            <div className=\"section\" id=\"load-balance-and-authentication\">\r\n                              <h5>Load Balance and Authentication<a className=\"headerlink\" href=\"#load-balance-and-authentication\" title=\"Permalink to this headline\"></a></h5>\r\n                              <p>Recryptors are decentralized in a geographic way, because CDN vendors run recryptors on edge nodes. The requestor query a CDN vendor for the nearest recryptor node. Or, the requestor send request to the CDN vendor, which will redirect the request to a nearest recryptor node.</p>\r\n                              <p>Clients must connect directly to an enclave without any HTTP proxy, to ensure the TLS channel can prevent third parties (including the CDN vendor) from stealing the original file.</p>\r\n                              <p>Recryptors do not support normal ways for authentication (basic auth, API keys, etc). Instead, to start an encryption task or a decryption task, the requestor must sign a signature to prove her identity.</p>\r\n                              <p>A decryption/encryption task token can only be read by the same enclave that wrote it. So a requestor must stick to the same enclave during the same decryption/encryption task.</p>\r\n                            </div>\r\n                            <div className=\"section\" id=\"proxy-to-authorizers\">\r\n                              <h5>Proxy to authorizers<a className=\"headerlink\" href=\"#proxy-to-authorizers\" title=\"Permalink to this headline\"></a></h5>\r\n                              <p>CDN vendors’s recryptors have a high volume of requests sending to the authorizers. Usually, CDN vendors would like to pay the authorizers for better service. And the authorizers will provide dedicated servers (with special domain name) or dedicated API keys to the paid customers.</p>\r\n                              <p>Recryptors do not know the dedicated servers or API keys. CDN vendor must run a HTTP proxy which forward the recyrptors’ requests to authorizers.</p>\r\n                            </div>\r\n                            <div className=\"section\" id=\"rate-limit\">\r\n                              <h5>Rate Limit<a className=\"headerlink\" href=\"#rate-limit\" title=\"Permalink to this headline\"></a></h5>\r\n                              <p>The recryptor does not support rate limit itself. Instead, it can connect to an external rate limiter run by the CDN vendor as a microservice.</p>\r\n                            </div>\r\n                            <div className=\"section\" id=\"recryptor-coordinator\">\r\n                              <h5>Recryptor Coordinator<a className=\"headerlink\" href=\"#recryptor-coordinator\" title=\"Permalink to this headline\"></a></h5>\r\n                              <p>A CDN provider runs a coordinator which coordinates all its recryptors and the backend storage engine. A coordinator has the following functions:</p>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"section\" id=\"wallet-based-login\">\r\n                            <h2>Wallet-based login<a className=\"headerlink\" href=\"#wallet-based-login\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>You can login to the coordinator and get a session id.</p>\r\n                            <p>First, you get a random hex string through the following RPC endpoint.</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_getNonce{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>Then, you sign this hex string using <cite>personal_sign</cite> and use the signature to call the following RPC endpoint:</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_getSessionID?sig<span className=\"o\">=</span>&lt;hex-encoded-signature&gt;<span className=\"p\">&amp;</span><span className=\"nv\">nonce</span><span className=\"o\">=</span>&lt;hex-encoded-nonce&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The <cite>nonce</cite> parameter used to call <cite>eg_getSessionID</cite> must the returned value of <cite>eg_getNonce</cite>.</p>\r\n                            <p>A session ID is returned to you, which can be used in later requests.</p>\r\n                          </div>\r\n                          <div className=\"section\" id=\"assign-a-nearby-recryptor\">\r\n                            <h2>Assign a nearby recryptor<a className=\"headerlink\" href=\"#assign-a-nearby-recryptor\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>You can ask the coordinator to assign a nearby recryptor to you, for an encryption or decryption task.</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_getRecryptor?session<span className=\"o\">=</span>&lt;session-id&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The domain name of the assigned recryptor will be returned.</p>\r\n                          </div>\r\n                          <div className=\"section\" id=\"gateway-to-decentralized-storages\">\r\n                            <h2>Gateway to decentralized storages<a className=\"headerlink\" href=\"#gateway-to-decentralized-storages\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>You can get a non-encrypted file from decentralized storage (such as IPFS):</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_getFile?path<span className=\"o\">=</span>&lt;path-of-the-file&gt;<span className=\"p\">&amp;</span><span className=\"nv\">session</span><span className=\"o\">=</span>&lt;session-id&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The format of <cite>path</cite> depends on the decentralized storage solution. For IPFS, the path is a CID followed by the file’s path in the Elfin directory.</p>\r\n                            <p>This RPC helps you get the readme.txt file and the config.json file in the Elfin directory. It may limit the size of the returned file and/or download speed.</p>\r\n                          </div>\r\n                          <div className=\"section\" id=\"upload-an-immutable-directory\">\r\n                            <h2>Upload an immutable directory<a className=\"headerlink\" href=\"#upload-an-immutable-directory\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>You can request the coordinator to upload an immutable directory onto IPFS by posting a <a className=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData\">FormData</a> (multipart/form-data).</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_upload?session<span className=\"o\">=</span>&lt;session-id&gt;<span className=\"p\">&amp;</span><span className=\"nv\">recryptor</span><span className=\"o\">=</span>&lt;domain-name-of-recryptor&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>The format of the FormData is introduced in the <span className=\"xref std std-ref\">elfindirectory:FormData for upload</span> section.</p>\r\n                            <p>The <cite>recryptor</cite> parameter gives the domain name of the recryptor who run <cite>encryptChunk</cite> for the encrypted files in the immutable directory.</p>\r\n                            <p>This RPC endpoint will return the CID of the immutable directory.</p>\r\n                          </div>\r\n                          <div className=\"section\" id=\"proxy-to-elfin-authorizers\">\r\n                            <h2>Proxy to Elfin Authorizers<a className=\"headerlink\" href=\"#proxy-to-elfin-authorizers\" title=\"Permalink to this headline\"></a></h2>\r\n                            <p>You can request the coordinator to assign a proxy to you, which can forward your request to an Elfin authorizer.</p>\r\n                            <p>Note that it needs to input chain name</p>\r\n                            <div className=\"highlight-bash notranslate\"><div className=\"highlight\"><pre><span />/eg_getProxy?session<span className=\"o\">=</span>&lt;session-id&gt;<span className=\"p\">&amp;</span><span className=\"nv\">chain_name</span><span className=\"o\">=</span>&lt;chain-name&gt;{\"\\n\"}</pre></div>\r\n                            </div>\r\n                            <p>Usually, end users pay CDN providers for higher download speed. However, end users do not directly pay authorizers. Instead, CDN providers will pay the authorizers. To better serve its customers, a CDN provider can build a proxy to forward customers’ requests (<cite>/tx</cite>, <cite>/log</cite> and <cite>/calldata</cite>) to Elfin authorizers.</p>\r\n                          </div>\r\n                </div>\r\n                  </>\r\n                }\r\n\r\n               {active===3 && <>\r\n                <span id=\"Elfin Directory\"></span>\r\n                <div   className=\"section\" id=\"elfin-directory\">\r\n                  <div>\r\n                    <h1 className={`${styles['text-title']}`}>Elfin Directory<a className=\"headerlink\" href=\"#elfin-directory\" title=\"Permalink to this headline\"></a></h1>\r\n                    <div className=\"section\" id=\"arrange-permissioned-contents-on-decentralized-storages\">\r\n                      <h2>Arrange Permissioned Contents on Decentralized Storages<a className=\"headerlink\" href=\"#arrange-permissioned-contents-on-decentralized-storages\" title=\"Permalink to this headline\"></a></h2>\r\n                      <div className=\"admonition note\">\r\n                        <p className=\"flex items-center first admonition-title\"><ErrorIcon className=\"mr-1\"/>Note</p>\r\n                        <p className=\"last\">Currently this document only specifies immutable directory on IPFS. Specifications for other decentralized storages will come soon.</p>\r\n                      </div>\r\n                      <p>IPFS supports <a className=\"reference external\" href=\"https://docs.ipfs.tech/concepts/file-systems\">Immutable Filesystem</a>, and a IPFS URL can actually <a className=\"reference external\" href=\"https://discuss.ipfs.tech/t/understanding-ipfs-directories/2219\">point to a directory</a>.</p>\r\n                      <p>Sometimes we want to share several files as a whole through. For example:</p>\r\n                      <ol className=\"arabic simple\">\r\n                        <li>HLS playlist (.m3u8) file and the segment files</li>\r\n                        <li>A html file and its resources (images, videos, css, js)</li>\r\n                        <li>A markdown (.md) file and its images</li>\r\n                        <li>A video file and several subtitle files for it</li>\r\n                      </ol>\r\n                      <p>As a convention, in the IPFS immutable directory:</p>\r\n                      <ol className=\"arabic simple\">\r\n                        <li>The entry file must be named as “index”, such as index.m3u8, index.html, index.md</li>\r\n                        <li>There can be a “readme.md” file to briefly introduce the files in this directory. It can have only text contents or include <a className=\"reference external\" href=\"https://github.com/home-assistant/frontend/issues/5576\">base64-encoded images</a>.</li>\r\n                        <li>There must be a “config.json” file to guide viewers in decrypting some of the files in this directory. It is allowed that some of the files are not encrypted.</li>\r\n                      </ol>\r\n                    </div>\r\n                    <div className=\"section\" id=\"metadata-s-schema\">\r\n                      <h2>Metadata’s schema<a className=\"headerlink\" href=\"#metadata-s-schema\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>The <a className=\"reference external\" href=\"http://json-schema.org/learn/getting-started-step-by-step\">schema</a> of the “config.json” file is as follows:</p>\r\n                      <div className=\"highlight-json notranslate\"><div className=\"highlight\"><pre><span /><span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"$schema\"</span><span className=\"p\">:</span> <span className=\"s2\">\"http://json-schema.org/draft-04/schema#\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"title\"</span><span className=\"p\">:</span> <span className=\"s2\">\"ElfinGuard Recryptor Configuration\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"Configures the ElfinGuard Recryptor to Decrypt Files\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"object\"</span><span className=\"p\">,</span>{\"\\n\"}{\"    \"}<span className=\"nt\">\"properties\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"        \"}<span className=\"nt\">\"version\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"The Version of ElfinGuard Protocol\"</span><span className=\"p\">,</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"integer\"</span>{\"\\n\"}{\"            \"}<span className=\"s2\">\"minimum\"</span><span className=\"p\">:</span> <span className=\"mi\">0</span><span className=\"p\">,</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"exclusiveMinimum\"</span><span className=\"p\">:</span> <span className=\"kc\">false</span>{\"\\n\"}{\"        \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"        \"}<span className=\"nt\">\"introduction\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"            \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"briefly introduce the contents in this directory\"</span><span className=\"p\">,</span>{\"\\n\"}{\"        \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"        \"}<span className=\"nt\">\"keywords\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"            \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"some keywords which help search engines indexing this elfin directory, seperated by commas\"</span><span className=\"p\">,</span>{\"\\n\"}{\"        \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"        \"}<span className=\"nt\">\"author\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"name\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"                \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"The author's name\"</span><span className=\"p\">,</span>{\"\\n\"}{\"            \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"homepage\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"                \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"The home page of the author (https or ipns)\"</span><span className=\"p\">,</span>{\"\\n\"}{\"            \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"evm_address\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"                \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"The author's EVM address\"</span><span className=\"p\">,</span>{\"\\n\"}{\"            \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"        \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"        \"}<span className=\"nt\">\"files\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"array\"</span><span className=\"p\">,</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"provide information for decrypting some of the files in the directory\"</span><span className=\"p\">,</span>{\"\\n\"}{\"            \"}<span className=\"nt\">\"items\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"object\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                 \"}<span className=\"nt\">\"properties\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                     \"}<span className=\"nt\">\"filename\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                         \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"                         \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the name of a file in this directory\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                     \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                     \"}<span className=\"nt\">\"fileid\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                         \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"                         \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"a unique id for this file\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                     \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                     \"}<span className=\"nt\">\"size\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                         \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"integer\"</span>{\"\\n\"}{\"                         \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the size of the original file before encryption\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                     \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                     \"}<span className=\"nt\">\"recryptorsalt\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                         \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"                         \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"random bytes generated by the recryptor\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                     \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                     \"}<span className=\"nt\">\"decryptionguides\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                         \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"Each blockchain has a dedicated decryption guide\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                         \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"array\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                         \"}<span className=\"nt\">\"items\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                              \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"object\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                              \"}<span className=\"nt\">\"properties\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                  \"}<span className=\"nt\">\"chainid\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"a hex string indicating the target chain's ID\"</span>{\"\\n\"}{\"                                  \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                                  \"}<span className=\"nt\">\"contract\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the EVM address of the authorization contract\"</span>{\"\\n\"}{\"                                  \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                                  \"}<span className=\"nt\">\"function\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the signature of the function to be called\"</span>{\"\\n\"}{\"                                  \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                                  \"}<span className=\"nt\">\"threshold\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"integer\"</span>{\"\\n\"}{\"                                      \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the minimum number of authorizers required to decrypt this file\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"minimum\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"exclusiveMinimum\"</span><span className=\"p\">:</span> <span className=\"kc\">false</span>{\"\\n\"}{\"                                  \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                                  \"}<span className=\"nt\">\"authorizerlist\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"array\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"items\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                          \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                          \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the domain name of an authorizer\"</span>{\"\\n\"}{\"                                      \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"minItems\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"uniqueItems\"</span><span className=\"p\">:</span> <span className=\"kc\">true</span>{\"\\n\"}{\"                                  \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                                  \"}<span className=\"nt\">\"outdata\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span>{\"\\n\"}{\"                                      \"}<span className=\"s2\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"the expected outdata from eth_call\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                  \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                                  \"}<span className=\"nt\">\"encryptedparts\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"array\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"items\"</span><span className=\"p\">:</span> <span className=\"p\">{\"{\"}</span>{\"\\n\"}{\"                                          \"}<span className=\"nt\">\"type\"</span><span className=\"p\">:</span> <span className=\"s2\">\"string\"</span><span className=\"p\">,</span>{\"\\n\"}{\"                                          \"}<span className=\"nt\">\"description\"</span><span className=\"p\">:</span> <span className=\"s2\">\"base64-encoded shamir part encrypted with the grantcode from the authorizer\"</span>{\"\\n\"}{\"                                      \"}<span className=\"p\">{\"}\"},</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"minItems\"</span><span className=\"p\">:</span> <span className=\"mi\">1</span><span className=\"p\">,</span>{\"\\n\"}{\"                                      \"}<span className=\"nt\">\"uniqueItems\"</span><span className=\"p\">:</span> <span className=\"kc\">true</span>{\"\\n\"}{\"                                  \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"                              \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"                         \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"                     \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"                 \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"            \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"        \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}{\"    \"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}<span className=\"p\">{\"}\"}</span>{\"\\n\"}</pre></div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"section\" id=\"formdata-for-upload\">\r\n                      <h2>FormData for upload<a className=\"headerlink\" href=\"#formdata-for-upload\" title=\"Permalink to this headline\"></a></h2>\r\n                      <p>To store a Elfin directory to IPFS, you must first submit the files that need encryption to the server side using the <cite>encryptChunk</cite> endpoint of the recryptor. After they are ready, you can upload the files in Elfin directory using <a className=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData\">FormData</a> (multipart/form-data). A FormData object should be created using the <a className=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData/append\">append</a> method, with the following arguments:</p>\r\n                      <ol className=\"arabic simple\">\r\n                        <li>name: the full name of the file. A Elfin directory can contain subdirectories. So the full name may contain “/”.</li>\r\n                        <li>value: For a non-encrypted file, this is its Blob content. For an encrypted file, this is a hex string representing its recryptorsalt.</li>\r\n                      </ol>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                </>\r\n                }\r\n                \r\n                {active===4 && <>\r\n                <span id=\"UTXO Adapter\"></span>\r\n                <div   className=\"section\" id=\"utxo-adapter\">\r\n                      <h1 className={`${styles['text-title']}`}>UTXO Adapter<a className=\"headerlink\" href=\"#utxo-adapter\" title=\"Permalink to this headline\"></a></h1>\r\n                      <div className=\"section\" id=\"utxo-chains-adaptor-to-elfinguard-authorizer\">\r\n                        <h2>UTXO Chains’ Adaptor to ElfinGuard Authorizer<a className=\"headerlink\" href=\"#utxo-chains-adaptor-to-elfinguard-authorizer\" title=\"Permalink to this headline\"></a></h2>\r\n                        <p>UTXO-based blockchains, such as Bitcoin, Bitcoin Cash, Litecoin, Dogecoin, do not have a logging scheme like EVM. UTXO adaptor derives an EVM transaction containing one EVM log from a UTXO-based transaction, such that ElfinGuard’s authorizers can know what happened on these chains.</p>\r\n                        <p>The deriving rules are as follows:</p>\r\n                        <ol className=\"arabic simple\">\r\n                          <li>The first output must be an OP_RETURN output whose first data element is “EGTX”; otherwise, this transaction is NOT a derivable transaction.</li>\r\n                          <li>The second data element of OP_RETURN are mapped to the EVM Log’s source contract address. If it is less than 20 bytes, it will be zero-padded. If it is longer than 20 bytes, it will be tail-truncated.</li>\r\n                          <li>The 3rd~6th non-emtpy data elements are mapped to LOG1/LOG2/LOG3/LOG4 instructions’ topics, i.e., the solidity events’ topics. Each one will be coverted to a big-endian bytes32 by zero-padding and tail-truncation. Empty data elements pushed by OP_FALSE are ignored and not mapped as topics.</li>\r\n                          <li>The following data are concatenated together to form the LOG instructions’ data.<ol className=\"arabic\">\r\n                              <li>The confirmation count as a uint256. Yes, this number can be changed as time goes by. It is not a constant number. It will be -1 if the transaction cannot be found in mempool or the block history any more.</li>\r\n                              <li>The P2PKH/P2SH outputs’ recipient address (20 bytes) and value (12 bytes) as a uint256 array (<cite>uint256[]</cite>). The value is multiplied by <cite>10**10</cite> such that its unit is changed from satoshi to wei.</li>\r\n                              <li>The P2PKH/P2SH inputs’ sender address (20 bytes) and value (12 bytes) as a uint256 array (<cite>uint256[]</cite>). The value is multiplied by <cite>10**10</cite> such that its unit is changed from satoshi to wei.</li>\r\n                              <li>The other data elements of OP_RETURN as a bytes array (<cite>bytes[]</cite>).</li>\r\n                            </ol>\r\n                          </li>\r\n                          <li>The first P2PKH/P2SH outputs’ recipient address is taken as the to-address of the EVM transaction</li>\r\n                          <li>The first P2PKH/P2SH inputs’ sender address is taken as the from-address of the EVM transaction</li>\r\n                        </ol>\r\n                        <p>Currently, we only implement an adaptor for Bitcoin Cash in this repo.</p>\r\n                        <p>We use virtual block number for these EVM logs. Different UTXO Adapter may generate different blocks for the same block number. The mempool is checked every 5 seconds and any new derivable transactions will be packed to a new virtual block. The mined blocks are also checked to find new derivable transactions.</p>\r\n                        <p>The name of these blockchains (Bitcoin, Bitcoin Cash, Litecoin, Dogecoin) are prefixed with “virtual” and then mapped to bytes32 as their EVM chainId.</p>\r\n                        <p>It is recommended that the source contract address (20 bytes) is calculated as <cite>RIPEMD160(SHA256(URI))</cite>. The URI is controlled by the authorizing contract’s developers.</p>\r\n                        <p>It is recommended that the derived logs are viewed as solidity’s anonymous events, because always attaching the same 32 bytes to OP_RETURN is a waste.</p>\r\n                        <p>The virtual EVM blocks’ attributes are left empty or zero except two:</p>\r\n                        <ol className=\"arabic simple\">\r\n                          <li>Size: it is reused to store the time when this virtual block is build.</li>\r\n                          <li>GasUsed: it is reused to store the main chain’s height scanned by this adaptor when this virtual block is build.</li>\r\n                        </ol>\r\n                        <p>These attributes depends on the local time of the adaptor’s machine and the timing it sees the mempool’s transactions. So they will differ from one adaptor to another adaptor.</p>\r\n                        <p>We don’t want authorizers disagree on timestamp. So the local timestamp is store in ‘Size’ which is ignored by authorizers. And the blocks’ timestamps are left as zero.</p>\r\n                      </div>\r\n                </div>\r\n                </>\r\n                }\r\n\r\n                \r\n                \r\n               {active===5 && <>\r\n                <span id=\"BCH Payment Judgers\" />\r\n                <div   className=\"section\" id=\"bch-payment-judger\">\r\n                  <h1 className={`${styles['text-title']}`}>BCH Payment Judger<a className=\"headerlink\" href=\"#bch-payment-judger\" title=\"Permalink to this headline\"></a></h1>\r\n                  <div className=\"section\" id=\"an-online-judger-for-bch-stochastic-payments\">\r\n                    <h2>An online judger for BCH stochastic payments<a className=\"headerlink\" href=\"#an-online-judger-for-bch-stochastic-payments\" title=\"Permalink to this headline\"></a></h2>\r\n                    <p>PaymentJudger is a third-party enclave to support stochastic payment on Bitcoin Cash mainchain. It serves the inactive payees which cannot check on-chain status and broadcast transactions. Maybe the payee is a smart contract which cannot be active, or maybe it is a real person who cannot get online, such as an author who uses ElfinHost Access-Control protocol to publish videos.</p>\r\n                    <p>The payer and PaymentJudger follow these steps:</p>\r\n                    <ol className=\"arabic simple\">\r\n                      <li>The payer sign a Bitcoin Cash transaction that pays the payee and has an OP_RETURN output contains the possibility that this transaction would be broadcasted.</li>\r\n                      <li>The enclave receives this transaction, verifies it using <cite>testmempoolaccept</cite>, and sends the payer a signature endorsing the payer, the payee, the amount, the possibility, etc.</li>\r\n                      <li>The enclave generate a VRF output based on the transaction’s hashid and decide whether to broadcast this tx based on the specified possibility. The VRF output and the proof are also sent to the payer, no matter whether the tx is broadcasted or not.</li>\r\n                    </ol>\r\n                    <p>The payer-signed Bitcoin Cash transaction must be a “derivable” transaction from which the <a className=\"reference external\" href=\"https://github.com/elfinguard/utxoadapter\">UTXO adaptor</a> can derive an EVM transaction containing one EVM log. Further more, the first OP_RETURN output’s must have at least seven pushed data elements and the seventh must be a two-byte integer indicating the probability of the payment.</p>\r\n                    <p>PaymentJudger will serialize and sign the derived EVM log in the same way as the authorizer does: serialize the following solidity struct using <cite>abi.encodePacked</cite> and sign it using <cite>personal_sign</cite>.</p>\r\n                    <div className=\"highlight-solidity notranslate\"><div className=\"highlight\"><pre><span /><span className=\"kt\">struct</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">LogInfo</span><span className=\" -WhiteSpace\"> </span><span className=\"p\">{\"{\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">chainId</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// which chain did this log happen on?</span>{\"\\n\"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">uint</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">timestamp</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// when did this log happend at?</span>{\"\\n\"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">address</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">sourceContract</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// which contract generates this log?</span>{\"\\n\"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">bytes32</span><span className=\"p\">[]</span><span className=\" -WhiteSpace\"> </span>topics<span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// a log has 0~4 topics</span>{\"\\n\"}<span className=\" -WhiteSpace\">{\"    \"}</span><span className=\"kt\">bytes</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">data</span><span className=\"p\">;</span><span className=\" -WhiteSpace\"> </span><span className=\"c1\">// a log has variable-length data</span>{\"\\n\"}<span className=\"p\">{\"}\"}</span><span className=\" -WhiteSpace\" />{\"\\n\"}</pre></div>\r\n                    </div>\r\n                    <p>According to the UTXO adaptor’s specification, the <cite>data</cite> field of <cite>LogInfo</cite> can be decoded in following way:</p>\r\n                    <div className=\"highlight-solidity notranslate\"><div className=\"highlight\"><pre><span /><span className=\"p\">(</span><span className=\" -WhiteSpace\" />{\"\\n\"}<span className=\" -WhiteSpace\">{\"        \"}</span><span className=\"kt\">uint256</span><span className=\" -WhiteSpace\"> </span><span className=\"nv\">_confirmations</span><span className=\"p\">,</span><span className=\" -WhiteSpace\" />{\"\\n\"}<span className=\" -WhiteSpace\">{\"        \"}</span><span className=\"kt\">uint256</span><span className=\"p\">[]</span><span className=\" -WhiteSpace\"> </span><span className=\"kt\">memory</span><span className=\" -WhiteSpace\"> </span>outputs<span className=\"p\">,</span><span className=\" -WhiteSpace\" />{\"\\n\"}<span className=\" -WhiteSpace\">{\"        \"}</span><span className=\"kt\">uint256</span><span className=\"p\">[]</span><span className=\" -WhiteSpace\"> </span><span className=\"kt\">memory</span><span className=\" -WhiteSpace\"> </span>inputs<span className=\"p\">,</span><span className=\" -WhiteSpace\" />{\"\\n\"}<span className=\" -WhiteSpace\">{\"        \"}</span><span className=\"kt\">bytes</span><span className=\"p\">[]</span><span className=\" -WhiteSpace\"> </span><span className=\"kt\">memory</span><span className=\" -WhiteSpace\"> </span>otherData<span className=\" -WhiteSpace\" />{\"\\n\"}<span className=\"p\">)</span><span className=\" -WhiteSpace\"> </span><span className=\"o\">=</span><span className=\" -WhiteSpace\"> </span>abi<span className=\"p\">.</span>decode<span className=\"p\">(</span>logInfo<span className=\"p\">.</span>data<span className=\"p\">,</span><span className=\" -WhiteSpace\"> </span><span className=\"p\">(</span><span className=\"kt\">uint256</span><span className=\"p\">,</span><span className=\" -WhiteSpace\"> </span><span className=\"kt\">uint256</span><span className=\"p\">[],</span><span className=\" -WhiteSpace\"> </span><span className=\"kt\">uint256</span><span className=\"p\">[],</span><span className=\" -WhiteSpace\"> </span><span className=\"kt\">bytes</span><span className=\"p\">[]));</span><span className=\" -WhiteSpace\" />{\"\\n\"}</pre></div>\r\n                    </div>\r\n                    <p>The possibility of payment is encoded in <cite>otherData[0]</cite>, which is the seventh data element of the first OP_RETURN output.</p>\r\n                    <p>PaymentJudger will return the following information to payee:</p>\r\n                    <ol className=\"arabic simple\">\r\n                      <li>Prob16, the possibility of payment. It’s in the range of [0, 65535]</li>\r\n                      <li>Rand16: a peusdo random number from beta[30:]. It’s in the range of [0, 65535]</li>\r\n                      <li>VrfAlpha: the hashid of the transaction,</li>\r\n                      <li>VrfBeta:  the VRF output,</li>\r\n                      <li>VrfPi:    the VRF proof,</li>\r\n                      <li>LogInfo:  serialized struct LogInfo,</li>\r\n                      <li>LogSig:   a signature endorsing LogInfo,</li>\r\n                    </ol>\r\n                    <p>If Rand16 is less than Prob16, this transaction will be broadcasted by PaymentJudger.</p>\r\n                </div>     \r\n                </div>\r\n                </>\r\n              }\r\n\r\n           \r\n              <DownloadBtn className=\"mt-[20px] flex-row items-center justify-start\"><img className=\"ml-[14px] mr-[24px] w-[16px] h-[16px]\" src=\"image/750/learn/下载.png\"/>Download Whitepaper</DownloadBtn>\r\n\r\n\r\n            </div>\r\n            \r\n            \r\n            <div className={` flex-col items-start shrink-0 ${styles['group_4']} ${styles['space-y-129']}`}>\r\n              <div className={`flex-col ${styles['section_2']}`}>\r\n                <div className={`flex-col justify-start items-center self-center ${styles['text-wrapper_3']}`}>\r\n                  <span className={`${styles['text_5']}`}>ON THIS WHITEPAPER</span>\r\n                </div>\r\n                <div className={`flex-col justify-start items-start ${styles['divider']}`}>\r\n                  <div className={`shrink-0 ${styles['section_3']}`}></div>\r\n                </div>\r\n\r\n              <div className=\"pt-[3px] \" style={{background:'#e6e6e6'}}>\r\n   \r\n     \r\n              {\r\n                [\r\n                 \"ElfinGuard Access-Control Protocol\",\r\n                 \"Elfin Authorizer\",       \r\n                 \"Elfin Recryptor\",             \r\n                 \"Elfin Directory\",\r\n                 \"UTXO Adapter\",\r\n                 \"BCH Payment Judgers\" \r\n                ].map((t,idx)=>{\r\n                     return  <a onClick={()=>{navigate(`/Learn/${Object.keys(activeMap)[idx]}`);window.scrollTo({top: 0,})}} className={`${active==idx?'active':''} flex-row justify-between items-center ${styles['group_6']}`}>\r\n                     <div className={`flex-row items-center ${styles['space-x-7']}`}>\r\n                       <div className={`shrink-0 ${styles['section_5']}`}></div>\r\n                       <div className={`flex-col justify-start shrink-0 ${styles['text-wrapper_5']}`}>\r\n                         <span className={`activeLabel ${styles['font_4']} ${styles['text_7']}`}>\r\n                           {t}\r\n                         </span>\r\n                       </div>\r\n                     </div>\r\n                     \r\n                     {\r\n                       active==idx?\r\n                       <img\r\n                       className={`${styles['image_3']} ${styles['image_5']}`}\r\n                       src=\"image/PC/learn/arrows.png\"\r\n                       />\r\n                       :\r\n                       <img\r\n                         className={`${styles['image_3']} ${styles['image_5']}`}\r\n                         src=\"image/PC/learn/default_arrows.png\"\r\n                       />\r\n                     }\r\n                    \r\n   \r\n                     \r\n                   </a>\r\n                    \r\n                })\r\n               }\r\n              </div>\r\n              \r\n             \r\n              </div>\r\n            \r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n\r\n        {/* <img\r\n                className={`${styles['image_10']}`}\r\n                src=\"https://codefun-proj-user-res-1256085488.cos.ap-guangzhou.myqcloud.com/63a7fdfb5a7e3f0310febbfd/63ad399a717ee30011337499/16861954866750300125.png\"\r\n              /> */}\r\n       \r\n      </div>\r\n     \r\n    </Panel>\r\n  \r\n  );\r\n};\r\n\r\nexport default Learn;\r\n\r\n\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\n}), 'Error');\n\nexports.default = _default;"],"names":["Panel","styled","div","DownloadBtn","button","activeId","useParams","navigate","useTranslation","t","useNavigate","activeMap","useEffect","setActive","window","scrollTo","top","useState","active","linkElement","document","createElement","rel","href","head","appendChild","removeChild","className","styles","id","style","flexShrink","title","alt","src","Error","background","map","idx","onClick","Object","keys","_interopRequireDefault","require","_interopRequireWildcard","exports","React","_default","default","d"],"sourceRoot":""}